generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["fullTextSearch"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model users {
  id             Int       @id @default(autoincrement())
  email          String    @unique
  name           String
  password       String
  date           DateTime? @db.Date
  subscriptionId String?
  confirmed      Boolean   @default(false)
  address        String?
  markup         String?
  abn            String?
  phone          String?
  stripe_id      String?
  hasCredit      Boolean?
  suppliers      Json?
}

model accounts {
  id        Int      @id @default(autoincrement())
  website   String
  supplier  String   @unique
  username  String
  password  String
  updatedAt DateTime
}

model confirm_tokens {
  id        Int      @id @default(autoincrement())
  userId    Int
  token     String
  updatedAt DateTime
}

model intents {
  id        Int       @id @default(autoincrement())
  userId    String
  intentId  String
  status    String
  createdAt DateTime?
  orderId   Int
}

model orders {
  id            Int       @id @default(autoincrement())
  userId        Int
  order         Json
  status        String
  purchaseOrder String
  createdAt     DateTime?
  shippedAt     DateTime?
  invoice_url   String?
}

model reset_tokens {
  id        Int      @id @default(autoincrement())
  userId    Int
  token     String
  updatedAt DateTime
}

model searches {
  id      Int      @id @default(autoincrement())
  userId  Int
  keyword String
  date    DateTime
}

model settings {
  id        Int  @id @default(autoincrement())
  userId    Int  @unique
  suppliers Json
}

model subscriptions {
  id              String   @id
  start_time      DateTime
  create_time     DateTime
  links           Json
  plan_overridden Boolean
  plan_id         String
  status          String
}

model tires {
  id          Int      @id @default(autoincrement())
  itemNumber  String
  description String?
  type        String?
  rrp         Float?
  net         Float?
  stock       Int
  image       String?
  supplier    String
  brand       String?
  lastChecked DateTime
  guid        String?
  link        String?

  @@unique([supplier, itemNumber])
}

model customers {
  id                    Int       @id @default(autoincrement())
  uuid                  String
  customerNumber        String?
  specialAccountNumber  String?
  isCompany             String?
  isThirdParty          String?
  name                  String?
  firstName             String?
  lastName              String?
  contactName           String?
  taxRegistrationNumber String?
  phone                 String?
  fax                   String?
  mobile                String?
  email                 String?
  marketingDisabled     String?
  priceLevel            String?
  terms                 String?
  defaultDiscount       String?
  address               String?
  suburb                String?
  state                 String?
  postcode              String?
  country               String?
  streetAddress         String?
  streetSuburb          String?
  streetState           String?
  streetPostcode        String?
  note                  String?
  tags                  String?
  sourceOfBusiness      String?
  runningBalance        Float?
  finalizedBalance      Float?
  creditor              String?
  createdAt             DateTime
  lastInvoiceDate       DateTime?

  @@unique([uuid])

}

model vehicles {
  id                       Int      @id @default(autoincrement())
  customerId               Int
  vehicleNumber            Int?
  registrationNumber       String?
  location                 String?
  fleetNumber              String?
  driverName               String?
  driverPhone              String?
  driverEmail              String?
  make                     String?
  model                    String?
  year                     String?
  vin                      String?
  color                    String?
  bodyType                 String?
  serviceInterval          String?
  transmissionType         String?
  battery                  String?
  Odometer                 String?
  Engine                   String?
  engineType               String?
  engineOilType            String?
  engineOilQuality         String?
  powerSteeringOilType     String?
  powerSteeringOilQuantity String?
  transmissionOilType      String?
  transmissionOilQuantity  String?
  transferCaseOilType      String?
  transferCaseOilQuantity  String?
  coolantType              String?
  coolantQuantity          String?
  fuelType                 String?
  airFilter                String?
  oilFilter                String?
  fuelFilter               String?
  transmissionFilter       String?
  hydraulicFilter          String?
  tyreSize                 String?
  createdAt                DateTime
}

model jobs {
  id                 Int       @id @default(autoincrement())
  customerId         Int?
  vehicleId          Int?
  jobNumber          String?
  status             String?
  orderNumber        String?
  keyTag             String?
  vehicleNumber      String?
  vehicle            String?
  registrationNumber String?
  fleetNumber        String?
  chassisNumber      String?
  vin                String?
  jobName            String?
  jobEmail           String?
  jobPhone           String?
  jobID              String?
  jobType            String?
  description        String?
  time               DateTime?
  finishTime         DateTime?
  pickupTime         DateTime?
  estimateHours      String?
  finishedBy         String?
  onHold             String?
  onHoldReason       String?
  odometer           String?
  comments           String?
  notes              String?
  tags               String?
  invoiceNumber      String?
  nextServiceDate    DateTime?
  courtesyVehicle      Boolean?
  invoiceToThirdParty      Boolean?
  estimatedWorkHours      String?
  hubodometer      String?
  engineHours      String?
  isBooking Boolean?
  bookedBy           String?
  createdBy          String?
  assignedTo         String?
  createdAt          DateTime
}

model notes {
  id         Int      @id @default(autoincrement())
  startDate  DateTime
  endDate    DateTime
  note       String
  officeOnly Boolean
  createdAt  DateTime
  createdBy  String
  status String?
}

model invoices {
  id         Int      @id @default(autoincrement())
  customerId Int
  type String
  invoiceID String
  invoiceNumber String?
  reference String
  payments Json
  creditNotes Json
  prepayments Json
  overpayments Json
  amountDue Float
  amountPaid Float
  amountCredited Float
  isDiscounted Boolean
  hasAttachments Boolean
  invoiceAddresses Json
  hasErrors Boolean
  invoicePaymentServices Json
  contact Json
  date DateTime
  dueDate DateTime?
  status String
  lineAmountTypes Json
  lineItems Json
  subTotal Float
  totalTax Float
  total Float
  updatedDateUTC DateTime

  // invoiceNumber String?
  // orderNumber String?
  // finalized String?
  // finalizedBy String?
  // finalizedAt DateTime?
  // vehicleNumber String?
  // vehicleRegistrationNumber String?
  // vehicleFleetNumber String?
  // odometer String?
  // customerID Int?
  // customerNumber String?
  // customerSpecialAccountNumber String?
  // customerName String?
  // customerFirstName String?
  // customerLastName String?
  // customerStreetAddress String?
  // customerSuburb String?
  // customerState String?
  // customerPostcode String?
  // customerEmail String?
  // customerMobile String?
  // originalSourceOfBusiness String?
  // defaultDiscountPercentage String?
  // isRepeatedCustomer String?
  // jobNumber Int?
  // jobStatus String?
  // jobStartDate DateTime?
  // jobEndDate DateTime?
  // firstJobType String?
  // description String?
  // issueDate DateTime?
  // dueDate DateTime?
  // netAmount String?
  // taxAmount String?
  // totalAmount String?
  // discountAmount String?
  // discountPercentage String?
  // paidAmount String?
  // amountDue String?
  // totalCost String?
  // firstPaymentType String?
  // secondPaymentType String?
  // firstPaymentDate String?
  // secondPaymentDate String?
  // comments String?
  // internalNotes String?
  // mechanics String?
  // thirdPartyAccountingSystemID String
  // createdAt DateTime
  // salesperson String?
  // lineItems Json
  // tags String?

  @@unique([invoiceID])
}










model invoicePayments {
  id         Int      @id @default(autoincrement())
  paymentNumber String?
  reference String?
  invoiceNumber String?
  invoiceIssueDate DateTime?
  date DateTime?
  customer String?
  amount String?
  paymentType String?
  originalPaymentNumber String?
  createdAt DateTime
}